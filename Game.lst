  Sun Nov  8 2015 17:27                                                Page 1

    "Game of Life on a 24x24 LED."
    

                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ; Game of Life on a 24x24 LED.
     2                        
     3                        ; Rules taken from Wikipedia, http://en.wikipedia.
                    org/wiki/Conway%27s_Game_of_Life...
     4                        
     5                        ; The universe of the Game of Life is an infinite 
                    two-dimensional orthogonal grid of square cells,
     6                        ; each of which is in one of two possible states, 
                    live or dead.
     7                        ; Every cell interacts with its eight neighbours, 
                    which are the cells that are directly horizontally,
     8                        ; vertically, or diagonally adjacent. At each step
                     in time, the following transitions occur:
     9                        
    10                        ;   1. Any live cell with fewer than two live neig
                    hbours dies, as if by loneliness.
    11                        ;   2. Any live cell with more than three live nei
                    ghbours dies, as if by overcrowding.
    12                        ;   3. Any live cell with two or three live neighb
                    ours lives, unchanged, to the next generation.
    13                        ;   4. Any dead cell with exactly three live neigh
                    bours comes to life.
    14                        
    15                        ; The initial pattern constitutes the 'seed' of th
                    e system.
    16                        ; The first generation is created by applying the 
                    above rules simultaneously to every cell in the seed--
    17                        ; births and deaths happen simultaneously, and the
                     discrete moment at which this happens is sometimes called a
                     tick.
    18                        ; (In other words, each generation is based entire
                    ly on the one before.)
    19                        ; The rules continue to be applied repeatedly to c
                    reate further generations.
    20                        
    21                        ; ================================================
                    ========================================
    22                        
    23                        ; My version has a 24x24 grid displayed on the scr
                    een.
    24                        ; There is no editor so edit Grid1 and re-compile.
    25                        
    26                        ; Note that I have two grids 26x26 bytes, but I on
                    ly use 24x24 bytes for game of life.
    27                        ; This is to make the calculations simpler when ca
                    lculating number of neighbours.
    28                        ; I don't have to do any calculations for wrap aro
                    und or anything like that.
    29                        
  Sun Nov  8 2015 17:27                                                Page 2

    "Game of Life on a 24x24 LED."
    

    30                        
    31                        ; The Load data (pin 12) on Max 7219 is connected 
                    to PA0 (pin 2) on the 6522.
    32                        ; Clock (pin 13) on Max 7219 is connected to CB1 (
                    pin 18 ) on the 6522.
    33                        ; Data In (pin 1) on Max 7219 is connected to CB2 
                    (pin 19) on the 6522.
    34                        
    35                        
    36                        ; File: Game.asm
    37                        ; 11/08/2015
    38                        
    39                               PW 80         ;Page Width (# of char/line)
    40                               PL 60          ;Page Length for HP Laser
    41                               INCLIST ON     ;Add Include files in Listin
                    g
    42                        
    43                        				;***********************
                    **********************
    44                        				;Test for Valid Processo
                    r defined in -D option
    45                        				;***********************
                    **********************
    46                          	IF	USING_816
    47                          	ELSE
    48                          		EXIT         "Not Valid Processo
                    r: Use -DUSING_02, etc. ! ! ! ! ! ! ! ! ! ! ! !"
    49                          	ENDIF
    50                        
    51                        ;*************************************************
                    ***************************
    52                        ;*************************************************
                    ***************************
    53                        ; End of testing for proper Command line Options f
                    or Assembly of this program
    54                        ;*************************************************
                    ***************************
    55                        ;*************************************************
                    ***************************
    56                        
    57                        
    58                        			title  "Game of Life on a 24x24 
                    LED."
    59                        			sttl
    60                        
    61                        ; Constants, VIA addresses
    62             00007FC0   VIA           EQU $7FC0
    63             00007FC0   VIA_IOB       EQU VIA             ; Input/Output r
                    egister B
    64             00007FC1   VIA_IOA       EQU VIA+1           ; Input/Output r
                    egister A
    65             00007FC2   VIA_DDRB      EQU VIA+2           ; Data Direction
                     Port B
    66             00007FC3   VIA_DDRA      EQU VIA+3           ; Data Direction
                     Port A
  Sun Nov  8 2015 17:27                                                Page 3

    "Game of Life on a 24x24 LED."
    

    67             00007FC4   VIA_T1CL      EQU VIA+4           ; T1 Low Order C
                    ounter
    68             00007FC5   VIA_T1CH      EQU VIA+5           ; T1 High Order 
                    Counter
    69             00007FC6   VIA_T1LL      EQU VIA+6           ; T1 Low Order L
                    atches
    70             00007FC7   VIA_T1LH      EQU VIA+7           ; T1 High Order 
                    Latches
    71             00007FC8   VIA_T2CL      EQU VIA+8           ; T2 Low Order C
                    ounter
    72             00007FC9   VIA_T2CH      EQU VIA+9           ; T2 High Order 
                    Counter
    73             00007FCA   VIA_SR        EQU VIA+10          ; Shift Register
    74             00007FCB   VIA_ACR       EQU VIA+11          ; Auxiliary Cont
                    rol Register
    75             00007FCC   VIA_PCR       EQU VIA+12          ; Pheriperal Con
                    trol Register
    76             00007FCD   VIA_IFR       EQU VIA+13          ; Interrupt Flag
                     Register
    77             00007FCE   VIA_IER       EQU VIA+14          ; Interrupt Enab
                    le Register
    78             00007FCF   VIA_IOA2      EQU VIA+15          ; Input/Output r
                    egister A, No handshake
    79                        
    80                        ; VIA stuff
    81             00000030   add           EQU $30             ; Address in Max
                    7219
    82             00000031   dat           EQU $31             ; Data for Addre
                    ss
    83             00000032   units         EQU $32             ; LED units.
    84             00000033   count         EQU $33             ; Counter
    85             00000034   rows          EQU $34             ; Rows
    86             00000035   cols          EQU $35             ; Columns
    87             00000036   temp          EQU $36             ; Temp Storage
    88             00000037   LEDGridl      EQU $37             ; Grid Pointer L
                    ow
    89             00000038   LEDGridh      EQU $38             ; Grid Pointer H
                    igh
    90             00000039   temp2         EQU $39             ; Temp Storage 2
    91                        
    92                        ; Game Of Life Stuff
    93             00000040   tick          EQU $40             ; Even use grid 
                    1, Odd use grid 2
    94             00000041   row_counter   EQU $41             ; count the rows
                     to print.
    95             00000042   GridLow       EQU $42             ; Grid pointer.
    96             00000043   GridHi        EQU $43
    97             00000044   WorkGridLow   EQU $44             ; Grid Pointer f
                    or work grid.
    98             00000045   WorkGridHi    EQU $45
    99             00000046   cell_count    EQU $46             ; Used to count 
                    cells.
   100                        
   101                          CHIP	65C02
   102                          LONGI	OFF
  Sun Nov  8 2015 17:27                                                Page 4

    "Game of Life on a 24x24 LED."
    

   103                          LONGA	OFF
   104                        
   105                          .sttl "Game of Life on a 24x24 LED."
   106                          .page
   107                        
  Sun Nov  8 2015 17:27                                                Page 5

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   108                        ; Put in code segment...
   109                         CODE
   110                        
   111                        ; START @ $1000
   112                                      org $1000
   113                        	START:
   114                        
   115 00:1000: A9 09                      LDA #$09            ; 9 UNITS, 24X24 
                    ledS
   116 00:1002: 85 32                      STA units
   117 00:1004: 20 B7 11                   JSR init_VIA        ; Init VIA
   118 00:1007: 20 CC 11                   JSR init_max7219    ; Inint Dispaly
   119 00:100A: A9 00                      LDA #$00
   120 00:100C: 85 40                      STA tick            ; Start with grid
                     1
   121                        
   122 00:100E: 20 32 10     MainLoop      JSR LifeToLED       ; Conver Lif grid
                     to LED grid
   123 00:1011: 20 73 11                   JSR showGridData    ; Display it
   124 00:1014: 20 A6 10                   JSR next_tick       ; Calculate next 
                    move in the Game of Life Universe.
   125 00:1017: E6 40                      INC tick            ; Next tick
   126 00:1019: 20 27 10                   JSR delay           ; Small delay
   127 00:101C: 20 27 10                   JSR delay           ; Small delay
   128 00:101F: 20 27 10                   JSR delay           ; Small delay
   129 00:1022: 20 27 10                   JSR delay           ; Small delay
   130 00:1025: 80 E7                      BRA MainLoop        ; Make it an infi
                    nite loop.
   131                        
   132 00:1027: A0 00        delay         LDY #$00            ; Loop 256*256 ti
                    mes...
   133 00:1029: A2 00                      LDX #$00
   134 00:102B: CA           dloop1        DEX
   135 00:102C: D0 FD                      BNE dloop1
   136 00:102E: 88                         DEY
   137 00:102F: D0 FA                      BNE dloop1
   138 00:1031: 60                         RTS
   139                        
   140 00:1032: A5 40        LifeToLED     LDA tick            ; Test which grid
                     to print.
   141 00:1034: 29 01                      AND #$01
   142 00:1036: D0 0A                      BNE load_grid2
   143 00:1038: A9 xx                      LDA #<Grid1         ; Load Grid1 to p
                    ointer.
   144 00:103A: 85 42                      STA GridLow
   145 00:103C: A9 xx                      LDA #>Grid1
   146 00:103E: 85 43                      STA GridHi
   147 00:1040: 80 08                      BRA grid_loaded
   148 00:1042: A9 xx        load_grid2    LDA #<Grid2         ; Load Grid2 to p
                    ointer.
   149 00:1044: 85 42                      STA GridLow
   150 00:1046: A9 xx                      LDA #>Grid2
   151 00:1048: 85 43                      STA GridHi
   152 00:104A: 18           grid_loaded   CLC                 ; Clear carry so 
                    we can add 27 to the grid address.
  Sun Nov  8 2015 17:27                                                Page 6

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   153 00:104B: A5 42                      LDA GridLow
   154 00:104D: 69 1B                      ADC #27             ; Add 27 bytes, t
                    hat means we are on the second row, second column.
   155 00:104F: 85 42                      STA GridLow
   156 00:1051: 90 02                      BCC no_carry        ; If we got a car
                    ry, we need to increase the High byte.
   157 00:1053: E6 43                      INC GridHi
   158 00:1055: A9 xx        no_carry      LDA #<GridData      ; Pointer to LED 
                    Grid
   159 00:1057: 85 37                      STA LEDGridl
   160 00:1059: A9 xx                      LDA #>GridData
   161 00:105B: 85 38                      STA LEDGridh
   162 00:105D: A9 08                      LDA #$08            ; Count 8 bit per
                     byte.
   163 00:105F: 85 33                      STA count
   164 00:1061: A0 00                      LDY #0              ; Start at second
                     row in grid, one byte in.
   165 00:1063: 84 35                      STY cols            ; Since it's zero
                    , set offset in LED grid as well.
   166 00:1065: A2 18                      LDX #24             ; We want to set 
                    24 LEDs per row.
   167 00:1067: 86 41                      STX row_counter
   168 00:1069: B1 42        grid_loop2    LDA (GridLow),Y     ; Get byte in cur
                    rent grid.
   169 00:106B: F0 06                      BEQ setDead         ; If, zero it's a
                     dead cell.
   170 00:106D: 38                         SEC
   171 00:106E: 20 8F 10                   JSR updateLedGrid
   172 00:1071: 80 04                      BRA set_Done
   173 00:1073: 18           setDead       CLC
   174 00:1074: 20 8F 10                   JSR updateLedGrid
   175 00:1077: C8           set_Done      INY                 ; Next byte.
   176 00:1078: CA                         DEX                 ; Count down colu
                    mn.
   177 00:1079: D0 EE                      BNE grid_loop2      ; Are we done wit
                    h this row ?
   178 00:107B: 18                         CLC                 ; Clear carry so 
                    we can add 26 to the grid address.
   179 00:107C: A5 42                      LDA GridLow
   180 00:107E: 69 1A                      ADC #26             ; Add 26 bytes, t
                    hat means we are on the next row, second column.
   181 00:1080: 85 42                      STA GridLow
   182 00:1082: 90 02                      BCC no_carry2       ; If we got a car
                    ry, we need to increase the High byte.
   183 00:1084: E6 43                      INC GridHi
   184 00:1086: A0 00        no_carry2     LDY #0              ; Reset Y
   185 00:1088: A2 18                      LDX #24             ; Reset column by
                    tes
   186 00:108A: C6 41                      DEC row_counter
   187 00:108C: D0 DB                      BNE grid_loop2
   188 00:108E: 60                         RTS
   189                        
   190 00:108F: 26 36        updateLedGrid ROL temp            ; Shift in LED.
   191 00:1091: C6 33                      DEC count           ; 8 bits yet ?
   192 00:1093: D0 10                      BNE ulgdone
  Sun Nov  8 2015 17:27                                                Page 7

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   193 00:1095: A9 08                      LDA #$08
   194 00:1097: 85 33                      STA count           ; Reset counter
   195 00:1099: 84 39                      STY temp2           ; Save Y
   196 00:109B: A4 35                      LDY cols            ; Load offset in 
                    LED grid.
   197 00:109D: A5 36                      LDA temp            ; Get LED data
   198 00:109F: 91 37                      STA (LEDGridl),y    ; Store it in gri
                    d.
   199 00:10A1: E6 35                      INC cols            ; Increase offset
                    .
   200 00:10A3: A4 39                      LDY temp2           ; Restore Y.
   201 00:10A5: 60           ulgdone       RTS
   202                        
   203                        
   204 00:10A6: A5 40        next_tick     LDA tick
   205 00:10A8: 29 01                      AND #$01
   206 00:10AA: D0 12                      BNE a_load_grid2
   207 00:10AC: A9 xx                      LDA #<Grid1         ; Load Grid1 to p
                    ointer.
   208 00:10AE: 85 42                      STA GridLow
   209 00:10B0: A9 xx                      LDA #>Grid1
   210 00:10B2: 85 43                      STA GridHi
   211 00:10B4: A9 xx                      LDA #<Grid2         ; Load Grid2 to W
                    ork grid pointer.
   212 00:10B6: 85 44                      STA WorkGridLow
   213 00:10B8: A9 xx                      LDA #>Grid2
   214 00:10BA: 85 45                      STA WorkGridHi
   215 00:10BC: 80 10                      BRA a_grid_loaded
   216 00:10BE: A9 xx        a_load_grid2  LDA #<Grid2         ; Load Grid2 to p
                    ointer.
   217 00:10C0: 85 42                      STA GridLow
   218 00:10C2: A9 xx                      LDA #>Grid2
   219 00:10C4: 85 43                      STA GridHi
   220 00:10C6: A9 xx                      LDA #<Grid1         ; Load Grid1 to W
                    ork grid pointer.
   221 00:10C8: 85 44                      STA WorkGridLow
   222 00:10CA: A9 xx                      LDA #>Grid1
   223 00:10CC: 85 45                      STA WorkGridHi
   224 00:10CE: 18           a_grid_loaded CLC                 ; We will count c
                    ells on Grid(Low/Hi) and put them on WorkGrid(Low/Hi).
   225 00:10CF: A5 44                      LDA WorkGridLow
   226 00:10D1: 69 1B                      ADC #27             ; Add 27 bytes, t
                    hat means we are on the second row, second column.
   227 00:10D3: 85 44                      STA WorkGridLow
   228 00:10D5: 90 02                      BCC a_no_carry      ; If we got a car
                    ry, we need to increase the High byte.
   229 00:10D7: E6 45                      INC WorkGridHi
   230 00:10D9: A2 18        a_no_carry    LDX #24             ; We want to scan
                     24 rows
   231 00:10DB: 86 41                      STX row_counter
   232 00:10DD: 20 30 11     grid_loop     JSR count_hood      ; Count neighbour
                    s.
   233 00:10E0: A0 00                      LDY #0              ; Zero Y
   234 00:10E2: A5 46                      LDA cell_count      ; Get result
   235 00:10E4: C9 02                      CMP #02             ; Two cells ?
  Sun Nov  8 2015 17:27                                                Page 8

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   236 00:10E6: 90 10                      BCC cell_dies       ; Less than two, 
                    cell dies.
   237 00:10E8: C9 03                      CMP #3              ; Three cells ?
   238 00:10EA: F0 12                      BEQ cell_birth      ; Three cells wil
                    l come a life or stay alive, just put one there.
   239 00:10EC: B0 0A                      BCS cell_dies       ; If more than 3 
                    cells, it dies.
   240 00:10EE: A0 1B                      LDY #27             ; We have two cel
                    ls alive, copy cell from Grid(Low/Hi).
   241 00:10F0: B1 42                      LDA (GridLow),Y     ; Got the cell
   242 00:10F2: A0 00                      LDY #0              ; Form pos 27 on 
                    Grid(*) to WorkGrid(*).
   243 00:10F4: 91 44                      STA (WorkGridLow),Y ; Store cell.
   244 00:10F6: 80 0A                      BRA cell_count_done ; Continue on...
   245 00:10F8: A9 00        cell_dies     LDA #0              ; Cell dies, A = 
                    0
   246 00:10FA: 91 44                      STA (WorkGridLow),Y ; Store cell.
   247 00:10FC: 80 04                      BRA cell_count_done ; Continue on...
   248 00:10FE: A9 01        cell_birth    LDA #1              ; Cell was born, 
                    A = 1
   249 00:1100: 91 44                      STA (WorkGridLow),Y ; Store cell.
   250                        cell_count_done
   251 00:1102: E6 44                      INC WorkGridLow     ; Next position
   252 00:1104: D0 02                      BNE a_no_inc1
   253 00:1106: E6 45                      INC WorkGridHi
   254 00:1108: E6 42        a_no_inc1     INC GridLow         ; Next position
   255 00:110A: D0 02                      BNE a_no_inc2
   256 00:110C: E6 43                      INC GridHi
   257 00:110E: CA           a_no_inc2     DEX                 ; Next col.
   258 00:110F: D0 CC                      BNE grid_loop       ; Row not done, c
                    ontinue.
   259 00:1111: A2 18                      LDX #24             ; Reset col count
                    er.
   260 00:1113: E6 44                      INC WorkGridLow     ; Next position, 
                    for each row we have to move Two spaces.
   261 00:1115: D0 02                      BNE a_no_inc3
   262 00:1117: E6 45                      INC WorkGridHi
   263 00:1119: E6 42        a_no_inc3     INC GridLow         ; Next position 1
                     Grid
   264 00:111B: D0 02                      BNE a_no_inc4
   265 00:111D: E6 43                      INC GridHi
   266 00:111F: E6 44        a_no_inc4     INC WorkGridLow     ; Next position 2
                     WorkGrid
   267 00:1121: D0 02                      BNE a_no_inc5
   268 00:1123: E6 45                      INC WorkGridHi
   269 00:1125: E6 42        a_no_inc5     INC GridLow         ; Next position 2
                     Grid
   270 00:1127: D0 02                      BNE a_no_inc6
   271 00:1129: E6 43                      INC GridHi
   272 00:112B: C6 41        a_no_inc6     DEC row_counter     ; Next row.
   273 00:112D: D0 AE                      BNE grid_loop       ; Row not done, c
                    ontinue.
   274 00:112F: 60                         RTS
   275                        
   276 00:1130: A0 00        count_hood    LDY #0
  Sun Nov  8 2015 17:27                                                Page 9

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   277 00:1132: 84 46                      STY cell_count      ; Zero cell count
                    .
   278 00:1134: B1 42                      LDA (GridLow),Y     ; Y=0, neighbour 
                    top left.
   279 00:1136: F0 02                      BEQ b_no_add1
   280 00:1138: E6 46                      INC cell_count
   281 00:113A: A0 01        b_no_add1     LDY #1
   282 00:113C: B1 42                      LDA (GridLow),Y     ; Y=1, neighbour 
                    top middle.
   283 00:113E: F0 02                      BEQ b_no_add2
   284 00:1140: E6 46                      INC cell_count
   285 00:1142: A0 02        b_no_add2     LDY #2
   286 00:1144: B1 42                      LDA (GridLow),Y     ; Y=2, neighbour 
                    top right.
   287 00:1146: F0 02                      BEQ b_no_add3
   288 00:1148: E6 46                      INC cell_count
   289 00:114A: A0 1A        b_no_add3     LDY #26
   290 00:114C: B1 42                      LDA (GridLow),Y     ; Y=26, neighbour
                     to the left.
   291 00:114E: F0 02                      BEQ b_no_add4
   292 00:1150: E6 46                      INC cell_count
   293 00:1152: A0 1C        b_no_add4     LDY #28
   294 00:1154: B1 42                      LDA (GridLow),Y     ; Y=28, neighbour
                     to the right.
   295 00:1156: F0 02                      BEQ b_no_add5
   296 00:1158: E6 46                      INC cell_count
   297 00:115A: A0 34        b_no_add5     LDY #52
   298 00:115C: B1 42                      LDA (GridLow),Y     ; Y=52, neighbour
                     to the bottom left.
   299 00:115E: F0 02                      BEQ b_no_add6
   300 00:1160: E6 46                      INC cell_count
   301 00:1162: A0 35        b_no_add6     LDY #53
   302 00:1164: B1 42                      LDA (GridLow),Y     ; Y=53, neighbour
                     to the bottom middle.
   303 00:1166: F0 02                      BEQ b_no_add7
   304 00:1168: E6 46                      INC cell_count
   305 00:116A: A0 36        b_no_add7     LDY #54
   306 00:116C: B1 42                      LDA (GridLow),Y     ; Y=53, neighbour
                     to the bottom middle.
   307 00:116E: F0 02                      BEQ b_no_add8
   308 00:1170: E6 46                      INC cell_count
   309 00:1172: 60           b_no_add8     RTS
   310                        
   311                        showGridData
   312 00:1173: A9 xx                      LDA #<GridData
   313 00:1175: 85 37                      STA LEDGridl
   314 00:1177: A9 xx                      LDA #>GridData
   315 00:1179: 85 38                      STA LEDGridh
   316 00:117B: A0 01                      LDY #1              ; Start with row 
                    1
   317 00:117D: 84 34                      STY rows
   318 00:117F: A0 08                      LDY #8
   319 00:1181: 84 33                      STY count           ; Count 8 rows
   320                        
   321 00:1183: A6 34        sgdloop1      LDX rows            ; Row to X
  Sun Nov  8 2015 17:27                                                Page 10

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   322 00:1185: 86 30                      STX add             ; Store in addres
                    s
   323 00:1187: 86 36                      STX temp            ; Prepare to mult
                    iply by three
   324 00:1189: 18                         CLC
   325 00:118A: 26 36                      ROL temp
   326 00:118C: A5 34                      LDA rows
   327 00:118E: 65 36                      ADC temp
   328 00:1190: 69 2F                      ADC #47
   329 00:1192: A8                         TAY                 ; Y=(row*3) + 47,
                     this is 9:th chars row.
   330 00:1193: A2 03                      LDX #3              ; do three chars
   331 00:1195: 86 39                      STX temp2           ; three times = 9
                     chars.
   332                        
   333 00:1197: B1 37        c_loop1       LDA (LEDGridl),y
   334 00:1199: 85 31                      STA dat
   335 00:119B: 20 0E 12                   JSR SendData
   336 00:119E: 88                         DEY                 ; point to previo
                    us chars byte.
   337 00:119F: CA                         DEX                 ; Three chars ?
   338 00:11A0: D0 F5                      BNE c_loop1
   339 00:11A2: 98                         TYA
   340 00:11A3: 38                         SEC
   341 00:11A4: E9 15                      SBC #21
   342 00:11A6: A8                         TAY                 ; Y = Y - 21, mov
                    e back 3 chars and compensate for the three rows already don
                    e.
   343 00:11A7: A2 03                      LDX #3              ; Three more char
                    s to go.
   344 00:11A9: C6 39                      DEC temp2           ; did we do all 9
                     chars ?
   345 00:11AB: D0 EA                      BNE c_loop1
   346                        
   347 00:11AD: 20 27 12                   JSR LatchData
   348                        
   349 00:11B0: E6 34                      INC rows            ; Next row
   350 00:11B2: C6 33                      DEC count           ; Did we do them 
                    all ?
   351 00:11B4: D0 CD                      BNE sgdloop1        ; Nope, recalcula
                    te etc...
   352 00:11B6: 60                         RTS
   353                        
   354 00:11B7: A9 FF        init_VIA      LDA #$FF            ; Make port A out
                    put.
   355 00:11B9: 8D C3 7F                   STA VIA_DDRA
   356 00:11BC: A9 00                      LDA #$00            ; Make ports low.
   357 00:11BE: 8D C1 7F                   STA VIA_IOA
   358 00:11C1: AD CB 7F                   LDA VIA_ACR         ; Load ACR
   359 00:11C4: 29 E3                      AND #$E3            ; Zero bit 4,3,2.
   360 00:11C6: 09 18                      ORA #$18            ; Shift out using
                     Phi2
   361 00:11C8: 8D CB 7F                   STA VIA_ACR
   362 00:11CB: 60                         RTS
   363                        
  Sun Nov  8 2015 17:27                                                Page 11

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   364 00:11CC: A9 0A        init_max7219  LDA #10             ; Intensity addre
                    ss
   365 00:11CE: 85 30                      STA add
   366 00:11D0: A9 0A                      LDA #10             ; 10 out of 15
   367 00:11D2: 85 31                      STA dat
   368 00:11D4: 20 05 12                   JSR SendAllUnits
   369 00:11D7: 20 27 12                   JSR LatchData
   370                        
   371 00:11DA: A9 0B                      LDA #11             ; Scan limits (Ho
                    w many rows)
   372 00:11DC: 85 30                      STA add
   373 00:11DE: A9 07                      LDA #7              ; All 8 rows
   374 00:11E0: 85 31                      STA dat
   375 00:11E2: 20 05 12                   JSR SendAllUnits
   376 00:11E5: 20 27 12                   JSR LatchData
   377                        
   378 00:11E8: A9 09                      LDA #9              ; Decode mode
   379 00:11EA: 85 30                      STA add
   380 00:11EC: A9 00                      LDA #0              ; No decoding, us
                    e all 8 bits as data
   381 00:11EE: 85 31                      STA dat
   382 00:11F0: 20 05 12                   JSR SendAllUnits
   383 00:11F3: 20 27 12                   JSR LatchData
   384                        
   385 00:11F6: A9 0C                      LDA #12             ; Shutdown regist
                    er
   386 00:11F8: 85 30                      STA add
   387 00:11FA: A9 01                      LDA #1              ; No shutdown, no
                    rmal operation
   388 00:11FC: 85 31                      STA dat
   389 00:11FE: 20 05 12                   JSR SendAllUnits
   390 00:1201: 20 27 12                   JSR LatchData
   391 00:1204: 60                         RTS
   392                        
   393 00:1205: A4 32        SendAllUnits  LDY units           ; Send same data 
                    to all units
   394 00:1207: 20 0E 12     sauloop       JSR SendData
   395 00:120A: 88                         DEY
   396 00:120B: D0 FA                      BNE sauloop
   397 00:120D: 60                         RTS
   398                        
   399 00:120E: A5 30        SendData      LDA add             ; Address for MAX
                    7219
   400 00:1210: 8D CA 7F                   STA VIA_SR          ; Shift it...
   401 00:1213: AD CD 7F     d_wait1       LDA VIA_IFR         ; Are we done yet
                     ?
   402 00:1216: 29 04                      AND #$04
   403 00:1218: F0 F9                      BEQ d_wait1         ; Nope, continue.
                    ..
   404 00:121A: A5 31                      LDA dat             ; Data for MAX721
                    9
   405 00:121C: 8D CA 7F                   STA VIA_SR          ; Shift it...
   406 00:121F: AD CD 7F     d_wait2       LDA VIA_IFR         ; Are we done yet
                     ?
   407 00:1222: 29 04                      AND #$04
  Sun Nov  8 2015 17:27                                                Page 12

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   408 00:1224: F0 F9                      BEQ d_wait2         ; Nope, continue.
                    ..
   409 00:1226: 60                         RTS
   410                        
   411 00:1227: A9 01        LatchData     LDA #$01            ; Set Pin PA0 hig
                    h
   412 00:1229: 8D C1 7F                   STA VIA_IOA         ; This will load 
                    the data...
   413 00:122C: A9 00                      LDA #$00            ; Set Pin PA0 Low
   414 00:122E: 8D C1 7F                   STA VIA_IOA         ; Done loading th
                    e data, ready for more...
   415 00:1231: 60                         RTS
   416                        
   417                         ENDS
   418                        
   419                        ; Put in data segment.
   420                         DATA
   421                        
   422                        GridData
   423 00:0000: 7E 00 00           BYTE $7E, $00, $00 ; 1
   424 00:0003: 7E 00 00           BYTE $7E, $00, $00 ; 2
   425 00:0006: 66 00 00           BYTE $66, $00, $00 ; 3
   426 00:0009: 66 3C 00           BYTE $66, $3C, $00 ; 4
   427 00:000C: 0C 3C 00           BYTE $0C, $3C, $00 ; 5
   428 00:000F: 0C 66 00           BYTE $0C, $66, $00 ; 6
   429 00:0012: 18 66 00           BYTE $18, $66, $00 ; 7
   430 00:0015: 18 66 3C           BYTE $18, $66, $3C ; 8
   431 00:0018: 18 66 3C           BYTE $18, $66, $3C ; 9
   432 00:001B: 18 3C 66           BYTE $18, $3C, $66 ; 10
   433 00:001E: 18 3C 66           BYTE $18, $3C, $66 ; 11
   434 00:0021: 18 66 66           BYTE $18, $66, $66 ; 12
   435 00:0024: 18 66 66           BYTE $18, $66, $66 ; 13
   436 00:0027: 18 66 3E           BYTE $18, $66, $3E ; 14
   437 00:002A: 00 66 3E           BYTE $00, $66, $3E ; 15
   438 00:002D: 00 3C 06           BYTE $00, $3C, $06 ; 16
   439 00:0030: 00 3C 06           BYTE $00, $3C, $06 ; 17
   440 00:0033: 00 00 66           BYTE $00, $00, $66 ; 18
   441 00:0036: 00 00 66           BYTE $00, $00, $66 ; 19
   442 00:0039: 00 00 3C           BYTE $00, $00, $3C ; 20
   443 00:003C: 00 00 3C           BYTE $00, $00, $3C ; 21
   444 00:003F: 11 00 00           BYTE $11, $00, $00 ; 22
   445 00:0042: 00 11 00           BYTE $00, $11, $00 ; 23
   446 00:0045: 00 00 11           BYTE $00, $00, $11 ; 24
   447                        
   448                        ;      .org $1300      ; For Debug
   449                        
   450 00:0048: 00 00 00 00  Grid1      BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    ,0,0,0,0,0,0,0,0 ; 1
       00:004C: 00 00 00 00 
       00:0050: 00 00 00 00 
       00:0054: 00 00 00 00 
       00:0058: 00 00 00 00 
       00:005C: 00 00 00 00 
       00:0060: 00 00 
   451 00:0062: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  Sun Nov  8 2015 17:27                                                Page 13

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

                    0,0,0,0,0,0 ; 2
       00:0066: 00 00 00 00 
       00:006A: 00 00 00 00 
       00:006E: 00 00 00 00 
       00:0072: 00 00 00 00 
       00:0076: 00 00 00 00 
       00:007A: 00 00 
   452 00:007C: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 3
       00:0080: 00 00 00 00 
       00:0084: 00 00 00 00 
       00:0088: 00 00 00 00 
       00:008C: 00 00 00 00 
       00:0090: 00 00 00 00 
       00:0094: 00 00 
   453 00:0096: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 4
       00:009A: 00 00 00 00 
       00:009E: 00 00 00 00 
       00:00A2: 00 00 00 00 
       00:00A6: 00 00 00 00 
       00:00AA: 00 00 00 00 
       00:00AE: 00 00 
   454 00:00B0: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 5
       00:00B4: 00 00 00 00 
       00:00B8: 00 00 00 00 
       00:00BC: 00 00 00 00 
       00:00C0: 00 00 00 00 
       00:00C4: 00 00 00 00 
       00:00C8: 00 00 
   455 00:00CA: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 6
       00:00CE: 00 00 00 00 
       00:00D2: 00 00 00 00 
       00:00D6: 00 00 00 00 
       00:00DA: 00 00 00 00 
       00:00DE: 00 00 00 00 
       00:00E2: 00 00 
   456 00:00E4: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 7
       00:00E8: 00 00 00 00 
       00:00EC: 00 00 00 00 
       00:00F0: 00 00 00 00 
       00:00F4: 00 00 00 00 
       00:00F8: 00 00 00 00 
       00:00FC: 00 00 
   457 00:00FE: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 8
       00:0102: 00 00 00 00 
       00:0106: 00 00 00 00 
       00:010A: 00 00 00 00 
       00:010E: 00 00 00 00 
       00:0112: 00 00 00 00 
       00:0116: 00 00 
  Sun Nov  8 2015 17:27                                                Page 14

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   458 00:0118: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 9
       00:011C: 00 00 00 00 
       00:0120: 00 00 00 00 
       00:0124: 00 00 00 00 
       00:0128: 00 00 00 00 
       00:012C: 00 00 00 00 
       00:0130: 00 00 
   459 00:0132: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 10
       00:0136: 00 00 00 00 
       00:013A: 00 00 00 00 
       00:013E: 00 00 00 00 
       00:0142: 00 00 00 00 
       00:0146: 00 00 00 00 
       00:014A: 00 00 
   460 00:014C: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 11
       00:0150: 00 00 00 00 
       00:0154: 00 00 00 00 
       00:0158: 00 00 00 00 
       00:015C: 00 00 00 00 
       00:0160: 00 00 00 00 
       00:0164: 00 00 
   461 00:0166: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,
                    0,0,0,0,0,0 ; 12
       00:016A: 00 00 00 00 
       00:016E: 00 01 01 01 
       00:0172: 01 01 01 01 
       00:0176: 01 00 00 00 
       00:017A: 00 00 00 00 
       00:017E: 00 00 
   462 00:0180: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,
                    0,0,0,0,0,0 ; 13
       00:0184: 00 00 00 00 
       00:0188: 00 01 00 01 
       00:018C: 01 01 01 00 
       00:0190: 01 00 00 00 
       00:0194: 00 00 00 00 
       00:0198: 00 00 
   463 00:019A: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,
                    0,0,0,0,0,0 ; 14
       00:019E: 00 00 00 00 
       00:01A2: 00 01 01 01 
       00:01A6: 01 01 01 01 
       00:01AA: 01 00 00 00 
       00:01AE: 00 00 00 00 
       00:01B2: 00 00 
   464 00:01B4: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 15
       00:01B8: 00 00 00 00 
       00:01BC: 00 00 00 00 
       00:01C0: 00 00 00 00 
       00:01C4: 00 00 00 00 
       00:01C8: 00 00 00 00 
  Sun Nov  8 2015 17:27                                                Page 15

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

       00:01CC: 00 00 
   465 00:01CE: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 16
       00:01D2: 00 00 00 00 
       00:01D6: 00 00 00 00 
       00:01DA: 00 00 00 00 
       00:01DE: 00 00 00 00 
       00:01E2: 00 00 00 00 
       00:01E6: 00 00 
   466 00:01E8: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 17
       00:01EC: 00 00 00 00 
       00:01F0: 00 00 00 00 
       00:01F4: 00 00 00 00 
       00:01F8: 00 00 00 00 
       00:01FC: 00 00 00 00 
       00:0200: 00 00 
   467 00:0202: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 18
       00:0206: 00 00 00 00 
       00:020A: 00 00 00 00 
       00:020E: 00 00 00 00 
       00:0212: 00 00 00 00 
       00:0216: 00 00 00 00 
       00:021A: 00 00 
   468 00:021C: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 19
       00:0220: 00 00 00 00 
       00:0224: 00 00 00 00 
       00:0228: 00 00 00 00 
       00:022C: 00 00 00 00 
       00:0230: 00 00 00 00 
       00:0234: 00 00 
   469 00:0236: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 20
       00:023A: 00 00 00 00 
       00:023E: 00 00 00 00 
       00:0242: 00 00 00 00 
       00:0246: 00 00 00 00 
       00:024A: 00 00 00 00 
       00:024E: 00 00 
   470 00:0250: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 21
       00:0254: 00 00 00 00 
       00:0258: 00 00 00 00 
       00:025C: 00 00 00 00 
       00:0260: 00 00 00 00 
       00:0264: 00 00 00 00 
       00:0268: 00 00 
   471 00:026A: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 22
       00:026E: 00 00 00 00 
       00:0272: 00 00 00 00 
       00:0276: 00 00 00 00 
       00:027A: 00 00 00 00 
  Sun Nov  8 2015 17:27                                                Page 16

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

       00:027E: 00 00 00 00 
       00:0282: 00 00 
   472 00:0284: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 23
       00:0288: 00 00 00 00 
       00:028C: 00 00 00 00 
       00:0290: 00 00 00 00 
       00:0294: 00 00 00 00 
       00:0298: 00 00 00 00 
       00:029C: 00 00 
   473 00:029E: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 24
       00:02A2: 00 00 00 00 
       00:02A6: 00 00 00 00 
       00:02AA: 00 00 00 00 
       00:02AE: 00 00 00 00 
       00:02B2: 00 00 00 00 
       00:02B6: 00 00 
   474 00:02B8: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 25
       00:02BC: 00 00 00 00 
       00:02C0: 00 00 00 00 
       00:02C4: 00 00 00 00 
       00:02C8: 00 00 00 00 
       00:02CC: 00 00 00 00 
       00:02D0: 00 00 
   475 00:02D2: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 26
       00:02D6: 00 00 00 00 
       00:02DA: 00 00 00 00 
       00:02DE: 00 00 00 00 
       00:02E2: 00 00 00 00 
       00:02E6: 00 00 00 00 
       00:02EA: 00 00 
   476                        
   477                        ;      .org $1600      ; For Debug
   478                        
   479 00:02EC: 00 00 00 00  Grid2      BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    ,0,0,0,0,0,0,0,0 ; 1
       00:02F0: 00 00 00 00 
       00:02F4: 00 00 00 00 
       00:02F8: 00 00 00 00 
       00:02FC: 00 00 00 00 
       00:0300: 00 00 00 00 
       00:0304: 00 00 
   480 00:0306: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 2
       00:030A: 00 00 00 00 
       00:030E: 00 00 00 00 
       00:0312: 00 00 00 00 
       00:0316: 00 00 00 00 
       00:031A: 00 00 00 00 
       00:031E: 00 00 
   481 00:0320: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 3
  Sun Nov  8 2015 17:27                                                Page 17

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

       00:0324: 00 00 00 00 
       00:0328: 00 00 00 00 
       00:032C: 00 00 00 00 
       00:0330: 00 00 00 00 
       00:0334: 00 00 00 00 
       00:0338: 00 00 
   482 00:033A: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 4
       00:033E: 00 00 00 00 
       00:0342: 00 00 00 00 
       00:0346: 00 00 00 00 
       00:034A: 00 00 00 00 
       00:034E: 00 00 00 00 
       00:0352: 00 00 
   483 00:0354: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 5
       00:0358: 00 00 00 00 
       00:035C: 00 00 00 00 
       00:0360: 00 00 00 00 
       00:0364: 00 00 00 00 
       00:0368: 00 00 00 00 
       00:036C: 00 00 
   484 00:036E: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 6
       00:0372: 00 00 00 00 
       00:0376: 00 00 00 00 
       00:037A: 00 00 00 00 
       00:037E: 00 00 00 00 
       00:0382: 00 00 00 00 
       00:0386: 00 00 
   485 00:0388: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 7
       00:038C: 00 00 00 00 
       00:0390: 00 00 00 00 
       00:0394: 00 00 00 00 
       00:0398: 00 00 00 00 
       00:039C: 00 00 00 00 
       00:03A0: 00 00 
   486 00:03A2: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 8
       00:03A6: 00 00 00 00 
       00:03AA: 00 00 00 00 
       00:03AE: 00 00 00 00 
       00:03B2: 00 00 00 00 
       00:03B6: 00 00 00 00 
       00:03BA: 00 00 
   487 00:03BC: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 9
       00:03C0: 00 00 00 00 
       00:03C4: 00 00 00 00 
       00:03C8: 00 00 00 00 
       00:03CC: 00 00 00 00 
       00:03D0: 00 00 00 00 
       00:03D4: 00 00 
   488 00:03D6: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  Sun Nov  8 2015 17:27                                                Page 18

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

                    0,0,0,0,0,0 ; 10
       00:03DA: 00 00 00 00 
       00:03DE: 00 00 00 00 
       00:03E2: 00 00 00 00 
       00:03E6: 00 00 00 00 
       00:03EA: 00 00 00 00 
       00:03EE: 00 00 
   489 00:03F0: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 11
       00:03F4: 00 00 00 00 
       00:03F8: 00 00 00 00 
       00:03FC: 00 00 00 00 
       00:0400: 00 00 00 00 
       00:0404: 00 00 00 00 
       00:0408: 00 00 
   490 00:040A: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 12
       00:040E: 00 00 00 00 
       00:0412: 00 00 00 00 
       00:0416: 00 00 00 00 
       00:041A: 00 00 00 00 
       00:041E: 00 00 00 00 
       00:0422: 00 00 
   491 00:0424: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 13
       00:0428: 00 00 00 00 
       00:042C: 00 00 00 00 
       00:0430: 00 00 00 00 
       00:0434: 00 00 00 00 
       00:0438: 00 00 00 00 
       00:043C: 00 00 
   492 00:043E: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 14
       00:0442: 00 00 00 00 
       00:0446: 00 00 00 00 
       00:044A: 00 00 00 00 
       00:044E: 00 00 00 00 
       00:0452: 00 00 00 00 
       00:0456: 00 00 
   493 00:0458: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 15
       00:045C: 00 00 00 00 
       00:0460: 00 00 00 00 
       00:0464: 00 00 00 00 
       00:0468: 00 00 00 00 
       00:046C: 00 00 00 00 
       00:0470: 00 00 
   494 00:0472: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 16
       00:0476: 00 00 00 00 
       00:047A: 00 00 00 00 
       00:047E: 00 00 00 00 
       00:0482: 00 00 00 00 
       00:0486: 00 00 00 00 
       00:048A: 00 00 
  Sun Nov  8 2015 17:27                                                Page 19

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   495 00:048C: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 17
       00:0490: 00 00 00 00 
       00:0494: 00 00 00 00 
       00:0498: 00 00 00 00 
       00:049C: 00 00 00 00 
       00:04A0: 00 00 00 00 
       00:04A4: 00 00 
   496 00:04A6: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 18
       00:04AA: 00 00 00 00 
       00:04AE: 00 00 00 00 
       00:04B2: 00 00 00 00 
       00:04B6: 00 00 00 00 
       00:04BA: 00 00 00 00 
       00:04BE: 00 00 
   497 00:04C0: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 19
       00:04C4: 00 00 00 00 
       00:04C8: 00 00 00 00 
       00:04CC: 00 00 00 00 
       00:04D0: 00 00 00 00 
       00:04D4: 00 00 00 00 
       00:04D8: 00 00 
   498 00:04DA: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 20
       00:04DE: 00 00 00 00 
       00:04E2: 00 00 00 00 
       00:04E6: 00 00 00 00 
       00:04EA: 00 00 00 00 
       00:04EE: 00 00 00 00 
       00:04F2: 00 00 
   499 00:04F4: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 21
       00:04F8: 00 00 00 00 
       00:04FC: 00 00 00 00 
       00:0500: 00 00 00 00 
       00:0504: 00 00 00 00 
       00:0508: 00 00 00 00 
       00:050C: 00 00 
   500 00:050E: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 22
       00:0512: 00 00 00 00 
       00:0516: 00 00 00 00 
       00:051A: 00 00 00 00 
       00:051E: 00 00 00 00 
       00:0522: 00 00 00 00 
       00:0526: 00 00 
   501 00:0528: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 23
       00:052C: 00 00 00 00 
       00:0530: 00 00 00 00 
       00:0534: 00 00 00 00 
       00:0538: 00 00 00 00 
       00:053C: 00 00 00 00 
  Sun Nov  8 2015 17:27                                                Page 20

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

       00:0540: 00 00 
   502 00:0542: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 24
       00:0546: 00 00 00 00 
       00:054A: 00 00 00 00 
       00:054E: 00 00 00 00 
       00:0552: 00 00 00 00 
       00:0556: 00 00 00 00 
       00:055A: 00 00 
   503 00:055C: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 25
       00:0560: 00 00 00 00 
       00:0564: 00 00 00 00 
       00:0568: 00 00 00 00 
       00:056C: 00 00 00 00 
       00:0570: 00 00 00 00 
       00:0574: 00 00 
   504 00:0576: 00 00 00 00        BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                    0,0,0,0,0,0 ; 26
       00:057A: 00 00 00 00 
       00:057E: 00 00 00 00 
       00:0582: 00 00 00 00 
       00:0586: 00 00 00 00 
       00:058A: 00 00 00 00 
       00:058E: 00 00 
   505                        
   506                        
   507 00:0590:               ENDS
   508                        
   509                        
   510                        
   511                        ; Standard stuff to make compiler and Debug work..
                    .
   512                        
   513                          ; Back in code segment.
   514                         CODE
   515                              ;;------------------------------------------
                    -------------------------------
   516                              ;; FUNCTION NAME	: Event Hander re-vector
                    s
   517                              ;;------------------:-----------------------
                    -------------------------------
   518                              	IRQHandler:
   519 00:1232: 48                 		pha
   520 00:1233: 68                 		pla
   521 00:1234: 40                 		rti
   522                        
   523                              badVec:		; $FFE0 - IRQRVD2(134)
   524 00:1235: 08                 	php
   525 00:1236: 48                 	pha
   526 00:1237: A9 FF              	lda #$FF
   527                              				;clear Irq
   528 00:1239: 68                 	pla
   529 00:123A: 28                 	plp
   530 00:123B: 40                 	rti
  Sun Nov  8 2015 17:27                                                Page 21

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   531                              		;;-----------------------------
   532                              		;;
   533                              		;;		Reset and Interr
                    upt Vectors (define for 265, 816/02 are subsets)
   534                              		;;
   535                              		;;-----------------------------
   536                        
   537                         ENDS
   538                        
   539                        Shadow_VECTORS	SECTION OFFSET $7EE0
   540                              					;65C816 
                    Interrupt Vectors
   541                              					;Status 
                    bit E = 0 (Native mode, 16 bit mode)
   542 00:7EE0: 35 12              		dw	badVec		; $FFE0 
                    - IRQRVD4(816)
   543 00:7EE2: 35 12              		dw	badVec		; $FFE2 
                    - IRQRVD5(816)
   544 00:7EE4: 35 12              		dw	badVec		; $FFE4 
                    - COP(816)
   545 00:7EE6: 35 12              		dw	badVec		; $FFE6 
                    - BRK(816)
   546 00:7EE8: 35 12              		dw	badVec		; $FFE8 
                    - ABORT(816)
   547 00:7EEA: 35 12              		dw	badVec		; $FFEA 
                    - NMI(816)
   548 00:7EEC: 35 12              		dw	badVec		; $FFEC 
                    - IRQRVD(816)
   549 00:7EEE: 35 12              		dw	badVec		; $FFEE 
                    - IRQ(816)
   550                              					;Status 
                    bit E = 1 (Emulation mode, 8 bit mode)
   551 00:7EF0: 35 12              		dw	badVec		; $FFF0 
                    - IRQRVD2(8 bit Emulation)(IRQRVD(265))
   552 00:7EF2: 35 12              		dw	badVec		; $FFF2 
                    - IRQRVD1(8 bit Emulation)(IRQRVD(265))
   553 00:7EF4: 35 12              		dw	badVec		; $FFF4 
                    - COP(8 bit Emulation)
   554 00:7EF6: 35 12              		dw	badVec		; $FFF6 
                    - IRQRVD0(8 bit Emulation)(IRQRVD(265))
   555 00:7EF8: 35 12              		dw	badVec		; $FFF8 
                    - ABORT(8 bit Emulation)
   556                        
   557                              					; Common
                     8 bit Vectors for all CPUs
   558 00:7EFA: 35 12              		dw	badVec		; $FFFA 
                    -  NMIRQ (ALL)
   559 00:7EFC: 00 10              		dw	START		; $FFFC 
                    -  RESET (ALL)
   560 00:7EFE: 32 12              		dw	IRQHandler	; $FFFE 
                    -  IRQBRK (ALL)
   561                        
   562 00:7F00:               ends
   563                        
   564                        vectors	SECTION OFFSET $FFE0
  Sun Nov  8 2015 17:27                                                Page 22

    "Game of Life on a 24x24 LED."
    "Game of Life on a 24x24 LED."

   565                              					;65C816 
                    Interrupt Vectors
   566                              					;Status 
                    bit E = 0 (Native mode, 16 bit mode)
   567 00:FFE0: 35 12              		dw	badVec		; $FFE0 
                    - IRQRVD4(816)
   568 00:FFE2: 35 12              		dw	badVec		; $FFE2 
                    - IRQRVD5(816)
   569 00:FFE4: 35 12              		dw	badVec		; $FFE4 
                    - COP(816)
   570 00:FFE6: 35 12              		dw	badVec		; $FFE6 
                    - BRK(816)
   571 00:FFE8: 35 12              		dw	badVec		; $FFE8 
                    - ABORT(816)
   572 00:FFEA: 35 12              		dw	badVec		; $FFEA 
                    - NMI(816)
   573 00:FFEC: 35 12              		dw	badVec		; $FFEC 
                    - IRQRVD(816)
   574 00:FFEE: 35 12              		dw	badVec		; $FFEE 
                    - IRQ(816)
   575                              					;Status 
                    bit E = 1 (Emulation mode, 8 bit mode)
   576 00:FFF0: 35 12              		dw	badVec		; $FFF0 
                    - IRQRVD2(8 bit Emulation)(IRQRVD(265))
   577 00:FFF2: 35 12              		dw	badVec		; $FFF2 
                    - IRQRVD1(8 bit Emulation)(IRQRVD(265))
   578 00:FFF4: 35 12              		dw	badVec		; $FFF4 
                    - COP(8 bit Emulation)
   579 00:FFF6: 35 12              		dw	badVec		; $FFF6 
                    - IRQRVD0(8 bit Emulation)(IRQRVD(265))
   580 00:FFF8: 35 12              		dw	badVec		; $FFF8 
                    - ABORT(8 bit Emulation)
   581                        
   582                              					; Common
                     8 bit Vectors for all CPUs
   583 00:FFFA: 35 12              		dw	badVec		; $FFFA 
                    -  NMIRQ (ALL)
   584 00:FFFC: 00 10              		dw	START		; $FFFC 
                    -  RESET (ALL)
   585 00:FFFE: 32 12              		dw	IRQHandler	; $FFFE 
                    -  IRQBRK (ALL)
   586                        
   587 01:0000:               ends


      Lines assembled: 587
      Errors: 0
